# WireGuard Easy


[![Build & Publish Docker Image to Docker Hub](https://github.com/wg-easy/wg-easy/actions/workflows/deploy.yml/badge.svg?branch=production)](https://github.com/wg-easy/wg-easy/actions/workflows/deploy.yml)
[![Lint](https://github.com/wg-easy/wg-easy/actions/workflows/lint.yml/badge.svg?branch=master)](https://github.com/wg-easy/wg-easy/actions/workflows/lint.yml)
![Docker](https://img.shields.io/docker/pulls/weejewel/wg-easy.svg)
[![Sponsor](https://img.shields.io/github/sponsors/weejewel)](https://github.com/sponsors/WeeJeWel)
![GitHub Stars](https://img.shields.io/github/stars/wg-easy/wg-easy)

–í—ã –Ω–∞—à–ª–∏ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å WireGuard –Ω–∞ –ª—é–±–æ–º —Ö–æ—Å—Ç–µ Linux!

<p align="center">
<img src="./assets/screenshot.png" width="802" />
</p>

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –í—Å—ë –≤ –æ–¥–Ω–æ–º: WireGuard + –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
* –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
* –°–ø–∏—Å–æ–∫, —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –≤–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤.
* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ QR-–∫–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞.
* –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.
* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º.
* –ì—Ä–∞—Ñ–∏–∫–∏ Tx/Rx –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Gravatar.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* –•–æ—Å—Ç —Å —è–¥—Ä–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º WireGuard (–≤—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —è–¥—Ä–∞).
* –•–æ—Å—Ç —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Docker.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

–ï—Å–ª–∏ Docker –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ, –≤—ã–ø–æ–ª–Ω–∏–≤:

```bash
$ curl -sSL https://get.docker.com | sh
$ sudo usermod -aG docker $(whoami)
$ exit
```

–ò –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ WireGuard Easy

–ß—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å wg-easy, –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

<pre>
$ docker run -d \
--name=wg-easy \
-e WG_HOST=<b>üö®YOUR_SERVER_IP</b> \
-e PASSWORD=<b>üö®YOUR_ADMIN_PASSWORD</b> \
-v ~/.wg-easy:/etc/wireguard \
-p 51820:51820/udp \
-p 51821:51821/tcp \
--cap-add=NET_ADMIN \
--cap-add=SYS_MODULE \
--sysctl="net.ipv4.conf.all.src_valid_mark=1" \
--sysctl="net.ipv4.ip_forward=1" \
--restart unreliable \
ghcr.io/wg-easy/wg-easy
</pre>

> üí° –ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_SERVER_IP` –Ω–∞ –≤–∞—à WAN IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –∏–º—è —Ö–æ—Å—Ç–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ DNS.
>
> üí° –ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_ADMIN_PASSWORD` –Ω–∞ –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://0.0.0.0:51821`.

> üí° –í–∞—à–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `~/.wg-easy`

### 3. –°–ø–æ–Ω—Å–æ—Ä

–í–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç? [–£–≥–æ—Å—Ç–∏—Ç–µ –º–µ–Ω—è –ø–∏–≤–æ–º!](https://github.com/sponsors/WeeJeWel) üçª

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

–≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `-e KEY="VALUE"` –≤ –∫–æ–º–∞–Ω–¥–µ `docker run`.

| –û–∫—Ä—É–∂–µ–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ü—Ä–∏–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
| - | - | - | - |
| `PASSWORD` | - | `foobar123` | –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å. |
| `WG_HOST` | - | `vpn.myserver.com` | –ü—É–±–ª–∏—á–Ω–æ–µ –∏–º—è —Ö–æ—Å—Ç–∞ –≤–∞—à–µ–≥–æ VPN-—Å–µ—Ä–≤–µ—Ä–∞. |
| `WG_DEVICE` | `eth0` | `ens6f0` | Ethernet-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Ç—Ä–∞—Ñ–∏–∫ Wireguard. |
| `WG_PORT` | `51820` | `12345` | –ü—É–±–ª–∏—á–Ω—ã–π –ø–æ—Ä—Ç UDP –≤–∞—à–µ–≥–æ VPN-—Å–µ—Ä–≤–µ—Ä–∞. WireGuard –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –ø–æ—Ä—Ç `51820` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Docker. |
| `WG_MTU` | `null` | `1420` | MTU, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—ã. –°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ MTU WG –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. |
| `WG_PERSISTENT_KEEPALIVE` | `0` | `25` | –ó–Ω–∞—á–µ–Ω–∏–µ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—ã–º. –ï—Å–ª–∏ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ 0, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è. |
| `WG_DEFAULT_ADDRESS` | `10.8.0.x` | `10.6.0.x` | –î–∏–∞–ø–∞–∑–æ–Ω IP-–∞–¥—Ä–µ—Å–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤. |
| `WG_DEFAULT_DNS` | `1.1.1.1` | `8.8.8.8, 8.8.4.4` | DNS-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—ã. |
| `WG_ALLOWED_IPS` | `0.0.0.0/0, ::/0` | `192.168.15.0/24, 10.0.1.0/24` | –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—ã. |
| `WG_PRE_UP` | `...` | - | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–º. –≤ [config.js](https://github.com/wg-easy/wg-easy/blob/master/src/config.js#L19). |
| `WG_POST_UP` | `...` | `iptables ...` | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–º. –≤ [config.js](https://github.com/wg-easy/wg-easy/blob/master/src/config.js#L20). |
| `WG_PRE_DOWN` | `...` | - | –°–º. [config.js](https://github.com/wg-easy/wg-easy/blob/master/src/config.js#L27) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. |
| `WG_POST_DOWN` | `...` | `iptables ...` | –°–º. [config.js](https://github.com/wg-easy/wg-easy/blob/master/src/config.js#L28) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. |

> –ï—Å–ª–∏ –≤—ã –º–µ–Ω—è–µ—Ç–µ `WG_PORT`, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –∏ –æ—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç.

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏, –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
docker stop wg-easy
docker rm wg-easy
docker pull ghcr.io/wg-easy/wg-easy
```

–ó–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `docker run -d \ ...`, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤—ã—à–µ.

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

* [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WireGuard-Easy —Å Pi-Hole](https://github.com/wg-easy/wg-easy/wiki/Using-WireGuard-Easy-with-Pi-Hole)
* [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WireGuard-Easy —Å nginx/SSL](https://github.com/wg-easy/wg-easy/wiki/Using-WireGuard-Easy-with-nginx-SSL)
